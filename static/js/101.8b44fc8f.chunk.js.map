{"version":3,"file":"static/js/101.8b44fc8f.chunk.js","mappings":"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","sources":["pages/Catalog/Catalog.styled.jsx","pages/Catalog/Catalog.jsx"],"sourcesContent":["import styled from \"@emotion/styled\";\n\nexport const CatalogContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: center;\n  max-width: 1184px;\n  margin: 0 auto;\n  margin-bottom: 50px;\n  min-height: 65vh;\n\n`;\n\nexport const ResultMessage = styled.p`\n  margin-top: 50px;\n  font-size: 24px;\n  font-family: ManropeRegular;\n  color: rgba(138, 138, 137, 1);\n`;","import React, { useEffect, useState } from 'react';\nimport { CatalogContainer, ResultMessage } from './Catalog.styled';\nimport FilteredForm from 'components/FilteredForm/FilteredForm';\nimport AdvertList from '../../components/AdvertList/AdvertList';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getAdverts } from 'redux/adverts/selectors';\nimport { fetchAdverts } from 'redux/adverts/operations';\nimport Footer from 'components/Footer/Footer';\nimport { ToastContainer } from 'react-toastify';\n\nconst Catalog = () => {\n  const dispatch = useDispatch();\n  const allAdverts = useSelector(getAdverts);\n\n  const [filters, setFilters] = useState({\n    make: '',\n    filteredPrices: [],\n    minMileage: '',\n    maxMileage: '',\n  });\n  const [filteredAdverts, setFilteredAdverts] = useState(null);\n  const [isFiltering, setIsFiltering] = useState(false); \n\n  useEffect(() => {\n    dispatch(fetchAdverts());\n  }, [dispatch]);\n\n  useEffect(() => {\n    if (isFiltering) {\n      if (\n        filters.make ||\n        filters.filteredPrices.length > 0 ||\n        filters.minMileage ||\n        filters.maxMileage\n      ) {\n        const filteredAdverts = allAdverts.filter((advert) => {\n          if (filters.make && advert.make !== filters.make.value) {\n            return false;\n          }\n          if (\n            filters.filteredPrices.length > 0 &&\n            !filters.filteredPrices.some((priceObj) => priceObj.value === advert.rentalPrice.replace('$', ''))\n          ) {\n            return false;\n          }\n          if (filters.minMileage && advert.mileage < filters.minMileage) {\n            return false;\n          }\n          if (filters.maxMileage && advert.mileage > filters.maxMileage) {\n            return false;\n          }\n          return true;\n        });\n  \n        setFilteredAdverts(filteredAdverts);\n      } else {\n        setFilteredAdverts([]);\n      }\n    }\n  }, [filters, allAdverts, isFiltering]);\n\n  const makes = [...new Set(allAdverts.map((advert) => advert.make))];\n  const prices = [...new Set(allAdverts.map((advert) => advert.rentalPrice.replace('$', '')))];\n  const mileage = [...new Set(allAdverts.map((advert) => advert.mileage))];\n  const minMileage = Math.min(...mileage);\n  const maxMileage = Math.max(...mileage);  \n\n  const handleResetClick = () => {\n    setFilters({\n      make: '',\n      filteredPrices: [],\n      minMileage: '',\n      maxMileage: '',\n    });\n    setIsFiltering(false);\n  };\n\n  return (\n    <>\n      <CatalogContainer>\n      <FilteredForm\n        makes={makes}\n        prices={prices}\n        minMileage={minMileage}\n        maxMileage={maxMileage}\n        onFilterChange={(newFilters) => {\n          setFilters(newFilters);\n          setIsFiltering(true); \n        }}\n        filters={filters} \n        onResetClick={handleResetClick}\n      />\n      {isFiltering ? (\n        filteredAdverts !== null && filteredAdverts.length > 0 ? (\n          <AdvertList filteredAdverts={filteredAdverts} />\n        ) : (\n          <>\n            <ResultMessage>No results found for the selected criteria.</ResultMessage>\n          </>\n        )\n      ) : (\n        <AdvertList adverts={allAdverts} />\n      )}\n    </CatalogContainer>\n    <ToastContainer/>\n    <Footer/>\n    </>\n  );\n};\n\nexport default Catalog;\n"],"names":["CatalogContainer","styled","div","_templateObject","_taggedTemplateLiteral","ResultMessage","p","_templateObject2","dispatch","useDispatch","allAdverts","useSelector","getAdverts","_useState","useState","make","filteredPrices","minMileage","maxMileage","_useState2","_slicedToArray","filters","setFilters","_useState3","_useState4","filteredAdverts","setFilteredAdverts","_useState5","_useState6","isFiltering","setIsFiltering","useEffect","fetchAdverts","length","filter","advert","value","some","priceObj","rentalPrice","replace","mileage","makes","_toConsumableArray","Set","map","prices","Math","min","apply","max","_jsxs","_Fragment","children","_jsx","FilteredForm","onFilterChange","newFilters","onResetClick","AdvertList","adverts","ToastContainer","Footer"],"sourceRoot":""}