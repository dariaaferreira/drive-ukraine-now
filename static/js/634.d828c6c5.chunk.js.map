{"version":3,"file":"static/js/634.d828c6c5.chunk.js","mappings":"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","sources":["pages/Favorites/Favorites.styled.jsx","pages/Favorites/Favorites.jsx"],"sourcesContent":["import styled from '@emotion/styled';\n\nexport const Container = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  min-height: 65vh;\n  grid-gap: 29px;\n  padding-bottom: 20px;\n  max-width: 1184px;\n  margin: 0 auto;\n  margin-bottom: 50px;\n`;\n\nexport const FilteredContainer = styled.div`\n  margin: 0 auto;\n`;\n\nexport const EmptyFavorites = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin: 0 auto;\n`;\n\nexport const EmptyFavoritesMessage = styled.p`\n  font-size: 24px;\n  font-family: ManropeRegular;\n  color: rgba(138, 138, 137, 1);\n`;\n","import AdvertListItem from 'components/AdvertListItem/AdvertListItem';\nimport React, { useEffect, useState } from 'react';\nimport { Container, EmptyFavorites, EmptyFavoritesMessage, FilteredContainer } from './Favorites.styled';\nimport { useSelector } from 'react-redux';\nimport Footer from 'components/Footer/Footer';\nimport { ToastContainer } from 'react-toastify';\nimport FilteredForm from 'components/FilteredForm/FilteredForm';\nimport AdvertList from 'components/AdvertList/AdvertList';\n\nconst Favorites = () => {\n  const favorites = useSelector((state) => state.favorites.favorites);\n\n  const [filters, setFilters] = useState({\n    make: '',\n    filteredPrices: [],\n    minMileage: '',\n    maxMileage: '',\n  });\n  const [filteredAdverts, setFilteredAdverts] = useState(null);\n  const [isFiltering, setIsFiltering] = useState(false);\n\n  useEffect(() => {\n    if (isFiltering) {\n      if (\n        filters.make ||\n        filters.filteredPrices.length > 0 ||\n        filters.minMileage ||\n        filters.maxMileage\n      ) {\n        const filteredAdverts = favorites.filter((advert) => {\n          if (filters.make && advert.make !== filters.make.value) {\n            return false;\n          }\n          if (\n            filters.filteredPrices.length > 0 &&\n            !filters.filteredPrices.some((priceObj) => priceObj.value === advert.rentalPrice.replace('$', ''))\n          ) {\n            return false;\n          }\n          if (filters.minMileage && advert.mileage < filters.minMileage) {\n            return false;\n          }\n          if (filters.maxMileage && advert.mileage > filters.maxMileage) {\n            return false;\n          }\n          return true;\n        });\n  \n        setFilteredAdverts(filteredAdverts);\n      } else {\n        setFilteredAdverts([]);\n      }\n\n      return;\n    }\n  }, [filters, favorites, isFiltering]);\n\n  const makes = [...new Set(favorites.map((advert) => advert.make))];\n  const prices = [...new Set(favorites.map((advert) => advert.rentalPrice.replace('$', '')))];\n  const mileage = [...new Set(favorites.map((advert) => advert.mileage))];\n  const minMileage = Math.min(...mileage);\n  const maxMileage = Math.max(...mileage);\n\n  const handleResetClick = () => {\n    setFilters({\n      make: '',\n      filteredPrices: [],\n      minMileage: '',\n      maxMileage: '',\n    });\n    setIsFiltering(false);\n  };\n\n  return (\n    <>\n      <Container>\n        <FilteredContainer>\n          <FilteredForm\n            makes={makes}\n            prices={prices}\n            minMileage={minMileage}\n            maxMileage={maxMileage}\n            onFilterChange={(newFilters) => {\n              setFilters(newFilters);\n              setIsFiltering(true);\n            }}\n            filters={filters}\n            onResetClick={handleResetClick}\n          />\n        </FilteredContainer>\n        {favorites.length === 0 ? (\n          <EmptyFavorites>\n            <EmptyFavoritesMessage>Your favorites list is empty.</EmptyFavoritesMessage>\n          </EmptyFavorites>\n        ) : (\n          <>\n            {isFiltering ? (\n              filteredAdverts !== null && filteredAdverts.length > 0 ? (\n                <AdvertList filteredAdverts={filteredAdverts} /> \n              ) : (\n                <EmptyFavorites>\n                  <EmptyFavoritesMessage>No matching favorites found.</EmptyFavoritesMessage>\n                </EmptyFavorites>\n              )\n            ) : (\n              favorites.map((advert, index) => (\n                <div key={advert.id}>\n                  <AdvertListItem advert={advert} index={index} />\n                </div>\n              ))\n            )}\n          </>\n        )}\n      </Container>\n      <ToastContainer />\n      <Footer />\n    </>\n  );\n};\n\nexport default Favorites;\n"],"names":["Container","styled","div","_templateObject","_taggedTemplateLiteral","FilteredContainer","_templateObject2","EmptyFavorites","_templateObject3","EmptyFavoritesMessage","p","_templateObject4","favorites","useSelector","state","_useState","useState","make","filteredPrices","minMileage","maxMileage","_useState2","_slicedToArray","filters","setFilters","_useState3","_useState4","filteredAdverts","setFilteredAdverts","_useState5","_useState6","isFiltering","setIsFiltering","useEffect","length","filter","advert","value","some","priceObj","rentalPrice","replace","mileage","makes","_toConsumableArray","Set","map","prices","Math","min","apply","max","_jsxs","_Fragment","children","_jsx","FilteredForm","onFilterChange","newFilters","onResetClick","AdvertList","index","AdvertListItem","id","ToastContainer","Footer"],"sourceRoot":""}